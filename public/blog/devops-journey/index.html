<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>My DevOps Journey: Building a Static Website | Kyle Mapue</title>
<meta name="keywords" content="">
<meta name="description" content="Introduction As a passionate individual eager to delve into the world of DevOps, I found myself facing a common question: &ldquo;What is a good beginner project to gain practical experience?&rdquo; After exploring various resources and communities, I stumbled upon an insightful blog post titled &ldquo;The Best DevOps Project for a Beginner&rdquo; by Logan Marchione. Inspired by his guidance, I embarked on an exciting journey to build my own static website, and I would like to share my personal experience and lessons learned along the way.">
<meta name="author" content="Kyle Mapue">
<link rel="canonical" href="https://mapuekyle.com/blog/devops-journey/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.a72801f0f40a8d7f71aa1cafd1c2f2a993a1f26ca1cfd38fdba65d5b9b0f08a0.css" integrity="sha256-pygB8PQKjX9xqhyv0cLyqZOh8myhz9OP26ZdW5sPCKA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js" integrity="sha256-uVus3DnjejMqn4g7Hni&#43;Srwf3KK8HyZB9V4809q9TWE="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://mapuekyle.com/images/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://mapuekyle.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://mapuekyle.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://mapuekyle.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://mapuekyle.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="My DevOps Journey: Building a Static Website" />
<meta property="og:description" content="Introduction As a passionate individual eager to delve into the world of DevOps, I found myself facing a common question: &ldquo;What is a good beginner project to gain practical experience?&rdquo; After exploring various resources and communities, I stumbled upon an insightful blog post titled &ldquo;The Best DevOps Project for a Beginner&rdquo; by Logan Marchione. Inspired by his guidance, I embarked on an exciting journey to build my own static website, and I would like to share my personal experience and lessons learned along the way." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mapuekyle.com/blog/devops-journey/" />
<meta property="og:image" content="https://mapuekyle.com/blog/devops-journey/gear.png" /><meta property="article:section" content="blog" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://mapuekyle.com/blog/devops-journey/gear.png" />
<meta name="twitter:title" content="My DevOps Journey: Building a Static Website"/>
<meta name="twitter:description" content="Introduction As a passionate individual eager to delve into the world of DevOps, I found myself facing a common question: &ldquo;What is a good beginner project to gain practical experience?&rdquo; After exploring various resources and communities, I stumbled upon an insightful blog post titled &ldquo;The Best DevOps Project for a Beginner&rdquo; by Logan Marchione. Inspired by his guidance, I embarked on an exciting journey to build my own static website, and I would like to share my personal experience and lessons learned along the way."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blogs",
      "item": "https://mapuekyle.com/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "My DevOps Journey: Building a Static Website",
      "item": "https://mapuekyle.com/blog/devops-journey/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "My DevOps Journey: Building a Static Website",
  "name": "My DevOps Journey: Building a Static Website",
  "description": "Introduction As a passionate individual eager to delve into the world of DevOps, I found myself facing a common question: \u0026ldquo;What is a good beginner project to gain practical experience?\u0026rdquo; After exploring various resources and communities, I stumbled upon an insightful blog post titled \u0026ldquo;The Best DevOps Project for a Beginner\u0026rdquo; by Logan Marchione. Inspired by his guidance, I embarked on an exciting journey to build my own static website, and I would like to share my personal experience and lessons learned along the way.",
  "keywords": [
    
  ],
  "articleBody": "Introduction As a passionate individual eager to delve into the world of DevOps, I found myself facing a common question: “What is a good beginner project to gain practical experience?” After exploring various resources and communities, I stumbled upon an insightful blog post titled “The Best DevOps Project for a Beginner” by Logan Marchione. Inspired by his guidance, I embarked on an exciting journey to build my own static website, and I would like to share my personal experience and lessons learned along the way.\nOften it is difficult to get hands-on experience in DevOps. Doing a beginner challenge could solidfy otherwise only theoretical concepts.\nStatic site He recommended building a static site. That’s the answer.\nWhy A static site is a great beginner project because:\nIt gave me a great chance to finally purchase mapuekyle.com I touched on how websites works (e.g., domain names, DNS, web hosting, certificates) Experienced more infrastructure-as-code (IaC) with Terraform I learned configuration management with Ansible I got to check how a static site generator works. Touches on how Git works Messed with continuous integration and continuous delivery (CI/CD) with GitHub Actions How Below are the steps I took based on the outline of the steps for the challenge.\nPurchase a domain I took the liberty to browse through different sites/marketplace: Hover, Cloudflare, Namecheap, AWS, etc… Given that this is a personal website, I opted for a ‘.com’ on Namecheap Create a two Github repositories One for IaC code (Terraform and Ansible) repo-iac One for static site’s code repo-static-site Provision a virtual private server (VPS) in the cloud using Terraform So I looked up the recommended options for VPS that has Terraform support: (DigitalOcean, AWS, Linode, OVH, Oracle Cloud, Scaleway, etc…) For this project I used DigitalOcean (I like it because of the straightforward pricing) This code was checked out on its respective repo Notes: Don’t hard-code your API keys anywhere in your Terraform code, more like NEVER hard-code them. Notes: There is an option for me to store them on my DigitalOcean account but they can also be stored remotely (HashiCorp offers free state storage in Terraform Cloud) Improvements for future: Use Atlantis with your GitHub account to run Terraform via pull requests to GitHub Setup DNS using Terraform After I got the IP of my VPS, I linked mapuekyle.com to You can use a separate DNS provider (like Cloudflare, NS1, or DNSimple ), but your VPS provider might also offer DNS (e.g., DigitalOcean, AWS Route53, Linode, Scaleway, etc…) This code was checked into Git on GitHub Configure the VPS using Ansible After the VPS is online, I installed updates, setup a user, install packages, mess with configuration files, etc… I also installed a webserver Nginx. This code was checked into Git on GitHub Notes: Learned that I can get a TLS certificate for free from Let’s Encrypt and configure your webserver to redirect from port 80 to 443 Improvements for future: Instead of making one big playbook, use roles Run Ansible through Docker I thought it would be a good practice for me to run my Ansible playbook through Docker (but you can definitely run it as usual) I created a dockerfile inside my Ansible directory and installed respective dependencies for me to run the playbook. Create the static site locally on your PC I choose from an extensive list of static site generator (here) I initially used a different site that runs on react but opted for~ Hugo,(consider things like speed, available themes, the language the templates are written in, plugins, if you’re migrating from another data source, etc…) I chose Hugo for its simplicity and speed. This code was checked into Git on Github Deploy the site to your VPS using Setup GitHub Actions The goal is to automate deploying the static site’s rendered code from GitHub to VPS The automation is set on each push but you can definitely add other triggers (e.g., on each commit to Git, on a schedule, on a tag, etc…) Improvements for the future: Use GitHub Actions to lint your Terraform code with tflint and Ansible code with ansible-lint Bonus: Setup a free GitHub Pages domain at mapuekyle.github.io and push a dev/test version of your site to there but you can also do it on Netlify. Cost In my setup, I’m spending $66/year on my site and the surrounding infrastructure.\nProduct Cost (per year) Domain (NameCheap) $12 DNS (Cloudflare) Free VPS (DigitalOcean) $48 Conclusion In conclusion, building a static website as a beginner project proved to be an excellent choice. It laid the foundation for my DevOps aspirations and provided a solid platform for future growth. I encourage fellow beginners to embark on this journey, embrace the challenges, and experience the transformative power of hands-on learning in DevOps.\nI am looking forward to doing The Cloud Resume Challenge and navigating my way through roadmap.sh).\n-Kyle\n",
  "wordCount" : "813",
  "inLanguage": "en",
  "image":"https://mapuekyle.com/blog/devops-journey/gear.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Kyle Mapue"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://mapuekyle.com/blog/devops-journey/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Kyle Mapue",
    "logo": {
      "@type": "ImageObject",
      "url": "https://mapuekyle.com/images/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header sticky-header">
    <nav class="nav">
        <div class="logo">
            <a href="https://mapuekyle.com" accesskey="h" title="Kyle Mapue (Alt + H)">
                <img src="https://mapuekyle.com/images/coding.png" alt="logo" aria-label="logo"
                    height="35">Kyle Mapue</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://mapuekyle.com/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://mapuekyle.com/blog" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://mapuekyle.com">Home</a>&nbsp;»&nbsp;<a href="https://mapuekyle.com/blog/">Blogs</a></div>
    <h1 class="post-title">
      My DevOps Journey: Building a Static Website
    </h1>
    <div class="post-meta">

Kyle Mapue

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://mapuekyle.com/blog/devops-journey/gear.png" alt="featured image">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">‎ Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#static-site" aria-label="Static site">Static site</a><ul>
                        
                <li>
                    <a href="#why" aria-label="Why">Why</a></li>
                <li>
                    <a href="#how" aria-label="How">How</a></li></ul>
                </li>
                <li>
                    <a href="#cost" aria-label="Cost">Cost</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h1>
<p>As a passionate individual eager to delve into the world of DevOps, I found myself facing a common question: &ldquo;What is a good beginner project to gain practical experience?&rdquo; After exploring various resources and communities, I stumbled upon an insightful blog post titled &ldquo;The Best DevOps Project for a Beginner&rdquo; by Logan Marchione. Inspired by his guidance, I embarked on an exciting journey to build my own static website, and I would like to share my personal experience and lessons learned along the way.</p>
<blockquote>
<p>Often it is difficult to get hands-on experience in DevOps. Doing a beginner challenge could solidfy otherwise only theoretical concepts.</p>
</blockquote>
<h1 id="static-site">Static site<a hidden class="anchor" aria-hidden="true" href="#static-site">#</a></h1>
<p>He recommended building a static site. <em>That&rsquo;s the answer</em>.</p>
<p><img loading="lazy" src="/blog/devops-journey/static.gif" alt="meme"  />
</p>
<h2 id="why">Why<a hidden class="anchor" aria-hidden="true" href="#why">#</a></h2>
<p>A static site is a great beginner project because:</p>
<ul>
<li>It gave me a great chance to finally purchase <code>mapuekyle.com</code></li>
<li>I touched on how websites works (e.g., domain names, DNS, web hosting, certificates)</li>
<li>Experienced more <a href="https://en.wikipedia.org/wiki/Infrastructure_as_code">infrastructure-as-code</a> (IaC) with <a href="https://www.terraform.io/">Terraform</a></li>
<li>I learned <a href="https://en.wikipedia.org/wiki/Software_configuration_management">configuration management</a> with <a href="https://www.ansible.com/">Ansible</a></li>
<li>I got to check how a <a href="https://en.wikipedia.org/wiki/Static_site_generator">static site generator</a> works.</li>
<li>Touches on how <a href="https://git-scm.com/">Git</a> works</li>
<li>Messed with <a href="https://en.wikipedia.org/wiki/CI/CD">continuous integration and continuous delivery</a> (CI/CD) with <a href="https://github.com/features/actions">GitHub Actions</a></li>
</ul>
<h2 id="how">How<a hidden class="anchor" aria-hidden="true" href="#how">#</a></h2>
<p>Below are the steps I took based on the outline of the steps for the challenge.</p>
<ol>
<li>Purchase a domain
<ul>
<li>I took the liberty to browse through different sites/marketplace:</li>
<li><a href="https://www.hover.com/">Hover</a>, <a href="https://www.cloudflare.com/products/registrar/">Cloudflare</a>, <a href="https://www.namecheap.com/">Namecheap</a>, <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/domain-register.html">AWS</a>, etc&hellip;</li>
<li>Given that this is a personal website, I opted for a &lsquo;.com&rsquo; on Namecheap</li>
</ul>
</li>
<li>Create a two Github repositories
<ul>
<li>One for IaC code (Terraform and Ansible) <a href="https://github.com/kylemaps/beginner-devops-project-IaC">repo-iac</a></li>
<li>One for static site&rsquo;s code <a href="https://www.cloudflare.com/products/registrar/">repo-static-site</a></li>
</ul>
</li>
<li>Provision a <a href="https://en.wikipedia.org/wiki/Virtual_private_server">virtual private server</a> (VPS) in the cloud using Terraform
<ul>
<li>So I looked up the recommended options for VPS that has Terraform support: (<a href="https://registry.terraform.io/providers/digitalocean/digitalocean/">DigitalOcean</a>, <a href="https://registry.terraform.io/providers/hashicorp/aws/">AWS</a>, <a href="https://registry.terraform.io/providers/linode/linode/">Linode</a>, <a href="https://registry.terraform.io/providers/ovh/ovh/">OVH</a>, <a href="https://registry.terraform.io/providers/oracle/oci/">Oracle Cloud</a>, <a href="https://registry.terraform.io/providers/scaleway/scaleway/">Scaleway</a>, etc&hellip;)</li>
<li>For this project I used DigitalOcean (I like it because of the straightforward pricing)</li>
<li>This code was checked out on its respective repo</li>
<li>Notes: Don&rsquo;t hard-code your API keys anywhere in your Terraform code, more like NEVER hard-code them.</li>
<li>Notes: There is an option for me to store them on my DigitalOcean account but they can also be stored <a href="https://www.terraform.io/language/state/remote">remotely</a> (HashiCorp offers free state storage in Terraform Cloud)</li>
<li>Improvements for future: Use <a href="https://www.runatlantis.io/">Atlantis</a> with your GitHub account to run Terraform via pull requests to GitHub</li>
</ul>
</li>
<li>Setup DNS using Terraform
<ul>
<li>After I got the IP of my VPS, I linked <code>mapuekyle.com</code> to <code>&lt;my vps ip&gt;</code></li>
<li>You can use a separate DNS provider (like <a href="https://registry.terraform.io/providers/cloudflare/cloudflare/">Cloudflare</a>, <a href="https://registry.terraform.io/providers/ns1-terraform/ns1/">NS1</a>, or <a href="https://registry.terraform.io/providers/dnsimple/dnsimple/">DNSimple</a> ), but your VPS provider might also offer DNS (e.g., <a href="https://registry.terraform.io/providers/digitalocean/digitalocean/latest/docs/resources/record">DigitalOcean</a>, <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_record">AWS Route53</a>, <a href="https://registry.terraform.io/providers/linode/linode/latest/docs/resources/domain_record">Linode</a>, <a href="https://registry.terraform.io/providers/scaleway/scaleway/latest/docs/resources/domain_record">Scaleway</a>, etc&hellip;)</li>
<li>This code was checked into Git on GitHub</li>
</ul>
</li>
<li>Configure the VPS using Ansible
<ul>
<li>After the VPS is online, I installed updates, setup a user, install packages, mess with configuration files, etc&hellip;</li>
<li>I also installed a webserver <code>Nginx</code>.</li>
<li>This code was checked into Git on GitHub</li>
<li>Notes: Learned that I can get a TLS certificate for free from <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a> and configure your webserver to redirect from port 80 to 443</li>
<li>Improvements for future: Instead of making one big playbook, use <a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse_roles.html">roles</a></li>
</ul>
</li>
<li>Run Ansible through Docker
<ul>
<li>I thought it would be a good practice for me to run my Ansible playbook through Docker (but you can definitely run it as usual)</li>
<li>I created a <code>dockerfile</code> inside my Ansible directory and installed respective dependencies for me to run the playbook.</li>
</ul>
</li>
<li>Create the static site locally on your PC
<ul>
<li>I choose from an extensive list of static site generator (<a href="https://jamstack.org/generators/">here</a>)</li>
<li>I initially used a different site that runs on react but opted for~</li>
<li><a href="https://github.com/gohugoio/hugo">Hugo</a>,(consider things like speed, available themes, the language the templates are written in, plugins, if you&rsquo;re migrating from another data source, etc&hellip;)</li>
<li>I chose Hugo for its simplicity and speed.</li>
<li>This code was checked into Git on Github</li>
</ul>
</li>
<li>Deploy the site to your VPS using Setup GitHub Actions
<ul>
<li>The goal is to automate deploying the static site&rsquo;s rendered code from GitHub to VPS</li>
<li>The automation is set on each push but you can definitely add other triggers (e.g., on each commit to Git, on a schedule, on a tag, etc&hellip;)</li>
<li>Improvements for the future: Use GitHub Actions to lint your Terraform code with <a href="https://github.com/terraform-linters/tflint">tflint</a> and Ansible code with <a href="https://github.com/ansible/ansible-lint">ansible-lint</a></li>
<li>Bonus: Setup a free <a href="https://pages.github.com/">GitHub Pages</a> domain at <code>mapuekyle.github.io</code> and push a dev/test version of your site to there but you can also do it on <a href="https://www.netlify.com/pricing/">Netlify</a>.</li>
</ul>
</li>
</ol>
<h1 id="cost">Cost<a hidden class="anchor" aria-hidden="true" href="#cost">#</a></h1>
<p>In my setup, I&rsquo;m spending $66/year on my site and the surrounding infrastructure.</p>
<table>
<thead>
<tr>
<th>Product</th>
<th>Cost (per year)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Domain (NameCheap)</td>
<td>$12</td>
</tr>
<tr>
<td>DNS (Cloudflare)</td>
<td>Free</td>
</tr>
<tr>
<td>VPS (DigitalOcean)</td>
<td>$48</td>
</tr>
</tbody>
</table>
<h1 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h1>
<p>In conclusion, building a static website as a beginner project proved to be an excellent choice. It laid the foundation for my DevOps aspirations and provided a solid platform for future growth. I encourage fellow beginners to embark on this journey, embrace the challenges, and experience the transformative power of hands-on learning in DevOps.</p>
<p>I am looking forward to doing <a href="https://cloudresumechallenge.dev/">The Cloud Resume Challenge</a> and navigating my way through <a href="https://roadmap.sh/devops">roadmap.sh</a>).</p>
<p>-Kyle</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://mapuekyle.com">Kyle Mapue</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
